import string
from collections import Counter


def analyze_text(text):


    for ch in string.punctuation:
        text = text.replace(ch, "")

   
    text = text.lower()

   
    words = text.split()

   
    stopwords = ["the", "and", "is", "a", "an", "to", "of", "in", "it", "for", "on", "with"]

    
    filtered_words = []
    for w in words:
        if w not in stopwords:
            filtered_words.append(w)

    
    total_words = len(words)

    
    sentences = text.split(".")
    sentence_count = 0
    for s in sentences:
        if s.strip() != "":
            sentence_count += 1

    
    if sentence_count != 0:
        avg_sentence_length = total_words / sentence_count
    else:
        avg_sentence_length = 0

   
    freq = Counter(filtered_words)
    top_words = freq.most_common(5)

    
    result = "TEXT ANALYSIS REPORT\n"
    result += "-------------------\n"
    result += "Total Words: " + str(total_words) + "\n"
    result += "Total Sentences: " + str(sentence_count) + "\n"
    result += "Average Sentence Length: " + str(round(avg_sentence_length, 2)) + "\n\n"
    result += "Top 5 Frequent Words:\n"

    for word, count in top_words:
        result += word + " : " + str(count) + "\n"

   
    file = open("analysis_results.txt", "w")
    file.write(result)
    file.close()

    return result



paragraph = """
It was the best of times, it was the worst of times, 
it was the age of wisdom, it was the age of foolishness, 
it was the epoch of belief, it was the epoch of incredulity, 
it was the season of Light, it was the season of Darkness, 
it was the spring of hope, it was the winter of despair.
"""

output = analyze_text(paragraph)
print(output)
